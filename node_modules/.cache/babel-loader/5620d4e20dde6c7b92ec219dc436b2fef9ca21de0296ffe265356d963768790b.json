{"ast":null,"code":"import{useEffect,useState}from\"react\";import ChatWaitingIndicator from\"../ChatWaitingIndicator/ChatWaitingIndicator\";import{useExerciseData}from\"../../Contexts/ExerciseContext\";import{fetchAIEndQuestion}from\"../../services/AIChatAPI\";import{useNavigate}from\"react-router-dom\";import QuestionBasicComprehension from\"../QuestionBasicComprehension/QuestionBasicComprehension\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ExerciseFinished(){const{wordsMistaken}=useExerciseData();const[noErrors,setNoErrors]=useState(false);const[isSending,setIsSending]=useState(true);const[question,setQuestion]=useState([]);const navigate=useNavigate();useEffect(function(){async function fetch(){console.log(wordsMistaken);const arr=Array.from(wordsMistaken.current);console.log(arr);if(arr.length===0){setNoErrors(false);navigate(\"/\");return;}const data=await fetchAIEndQuestion({hard_words:arr});setQuestion(data);setIsSending(false);}fetch();},[]);console.log(question);return/*#__PURE__*/_jsxs(\"div\",{children:[question.length!==0&&/*#__PURE__*/_jsx(QuestionBasicComprehension,{question:question}),isSending&&/*#__PURE__*/_jsx(ChatWaitingIndicator,{})]});}export default ExerciseFinished;","map":{"version":3,"names":["useEffect","useState","ChatWaitingIndicator","useExerciseData","fetchAIEndQuestion","useNavigate","QuestionBasicComprehension","jsx","_jsx","jsxs","_jsxs","ExerciseFinished","wordsMistaken","noErrors","setNoErrors","isSending","setIsSending","question","setQuestion","navigate","fetch","console","log","arr","Array","from","current","length","data","hard_words","children"],"sources":["/home/samoore/tpd/new/src/components/ExerciseFinished/ExerciseFinished.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport ChatWaitingIndicator from \"../ChatWaitingIndicator/ChatWaitingIndicator\";\r\nimport { useExerciseData } from \"../../Contexts/ExerciseContext\";\r\nimport { fetchAIEndQuestion } from \"../../services/AIChatAPI\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport QuestionBasicComprehension from \"../QuestionBasicComprehension/QuestionBasicComprehension\";\r\n\r\nfunction ExerciseFinished() {\r\n  const { wordsMistaken } = useExerciseData();\r\n  const [noErrors, setNoErrors] = useState(false);\r\n  const [isSending, setIsSending] = useState(true);\r\n  const [question, setQuestion] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(function () {\r\n    async function fetch() {\r\n      console.log(wordsMistaken);\r\n      const arr = Array.from(wordsMistaken.current);\r\n      console.log(arr);\r\n      if (arr.length === 0) {\r\n        setNoErrors(false);\r\n        navigate(\"/\");\r\n        return;\r\n      }\r\n      const data = await fetchAIEndQuestion({ hard_words: arr });\r\n      setQuestion(data);\r\n      setIsSending(false);\r\n    }\r\n    fetch();\r\n  }, []);\r\n\r\n  console.log(question);\r\n\r\n  return (\r\n    <div>\r\n      {question.length !== 0 && (\r\n        <QuestionBasicComprehension question={question} />\r\n      )}\r\n      {isSending && <ChatWaitingIndicator />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ExerciseFinished;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,oBAAoB,KAAM,8CAA8C,CAC/E,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,kBAAkB,KAAQ,0BAA0B,CAC7D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,0BAA0B,KAAM,0DAA0D,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElG,QAAS,CAAAC,gBAAgBA,CAAA,CAAG,CAC1B,KAAM,CAAEC,aAAc,CAAC,CAAGT,eAAe,CAAC,CAAC,CAC3C,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACc,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAkB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9BL,SAAS,CAAC,UAAY,CACpB,cAAe,CAAAoB,KAAKA,CAAA,CAAG,CACrBC,OAAO,CAACC,GAAG,CAACV,aAAa,CAAC,CAC1B,KAAM,CAAAW,GAAG,CAAGC,KAAK,CAACC,IAAI,CAACb,aAAa,CAACc,OAAO,CAAC,CAC7CL,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC,CAChB,GAAIA,GAAG,CAACI,MAAM,GAAK,CAAC,CAAE,CACpBb,WAAW,CAAC,KAAK,CAAC,CAClBK,QAAQ,CAAC,GAAG,CAAC,CACb,OACF,CACA,KAAM,CAAAS,IAAI,CAAG,KAAM,CAAAxB,kBAAkB,CAAC,CAAEyB,UAAU,CAAEN,GAAI,CAAC,CAAC,CAC1DL,WAAW,CAACU,IAAI,CAAC,CACjBZ,YAAY,CAAC,KAAK,CAAC,CACrB,CACAI,KAAK,CAAC,CAAC,CACT,CAAC,CAAE,EAAE,CAAC,CAENC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC,CAErB,mBACEP,KAAA,QAAAoB,QAAA,EACGb,QAAQ,CAACU,MAAM,GAAK,CAAC,eACpBnB,IAAA,CAACF,0BAA0B,EAACW,QAAQ,CAAEA,QAAS,CAAE,CAClD,CACAF,SAAS,eAAIP,IAAA,CAACN,oBAAoB,GAAE,CAAC,EACnC,CAAC,CAEV,CAEA,cAAe,CAAAS,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}