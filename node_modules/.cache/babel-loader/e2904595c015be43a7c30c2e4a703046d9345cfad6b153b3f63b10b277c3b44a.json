{"ast":null,"code":"var _jsxFileName = \"/home/samoore/tpd/new/src/components/IndividualWord/IndividualWord.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react/prop-types */\nimport { Button, Modal } from \"react-bootstrap\";\nimport { useEffect, useState } from \"react\";\nimport { wordHelperFetch } from \"../../services/wordHelperAPI\";\nimport TextToSpeech from \"../TextToSpeech/TextToSpeech\";\nimport SpokenText from \"../SpokenText/SpokenText\";\nimport FullPageSpinner from \"../FullPageSpinner/FullPageSpinner\";\nimport { useExerciseData } from \"../../Contexts/ExerciseContext\";\n\n/* eslint-disable react/prop-types */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction IndividualWord({\n  word,\n  spokenAnswer,\n  className = \"\"\n}) {\n  _s();\n  var _spokenAnswer$word, _coachData$similar_so;\n  const [show, setShow] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [coachData, setCoachData] = useState({});\n  const {\n    handleAddMistake,\n    currentQuestion\n  } = useExerciseData();\n  const correctlyPronounced = spokenAnswer && (spokenAnswer === null || spokenAnswer === void 0 ? void 0 : (_spokenAnswer$word = spokenAnswer.word) === null || _spokenAnswer$word === void 0 ? void 0 : _spokenAnswer$word.toLowerCase().replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")) === word.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\").toLowerCase() && (spokenAnswer === null || spokenAnswer === void 0 ? void 0 : spokenAnswer.confidence) > 0.7;\n  useEffect(function () {\n    if (spokenAnswer && !correctlyPronounced) {\n      handleAddMistake({\n        question_id: currentQuestion.question_id,\n        mistake: word\n      });\n    }\n  }, [spokenAnswer]);\n  function handleClose() {\n    setShow(false);\n  }\n  async function handleShow() {\n    if (!correctlyPronounced) {\n      try {\n        setIsLoading(true);\n        const helpData = await wordHelperFetch(word);\n        setCoachData(helpData);\n        setShow(true);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: handleShow,\n      className: `inline-block pr-1 ${className} ${!spokenAnswer ? \"text-black\" : correctlyPronounced ? \"text-green-600\" : \" text-red-500 hover:text-red-500 hover:scale-105 transition-transform duration-200 transform\"}`,\n      children: `${word} `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(FullPageSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      centered: true,\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          className: \"capitalize\",\n          children: /*#__PURE__*/_jsxDEV(SpokenText, {\n            size: \"xl\",\n            text: word\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"space-y-5 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(SpokenText, {\n            highlightable: false,\n            text: coachData === null || coachData === void 0 ? void 0 : coachData.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(SpokenText, {\n            highlightable: false,\n            text: coachData === null || coachData === void 0 ? void 0 : coachData.example_sentence\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-4\",\n          children: coachData === null || coachData === void 0 ? void 0 : (_coachData$similar_so = coachData.similar_sounds) === null || _coachData$similar_so === void 0 ? void 0 : _coachData$similar_so.split(\",\").map((word, id) => /*#__PURE__*/_jsxDEV(SpokenText, {\n            text: word\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleClose,\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(IndividualWord, \"6aDUPPat/rH0gvNFzlsqZO7m9zk=\", false, function () {\n  return [useExerciseData];\n});\n_c = IndividualWord;\nexport default IndividualWord;\nvar _c;\n$RefreshReg$(_c, \"IndividualWord\");","map":{"version":3,"names":["Button","Modal","useEffect","useState","wordHelperFetch","TextToSpeech","SpokenText","FullPageSpinner","useExerciseData","jsxDEV","_jsxDEV","Fragment","_Fragment","IndividualWord","word","spokenAnswer","className","_s","_spokenAnswer$word","_coachData$similar_so","show","setShow","isLoading","setIsLoading","coachData","setCoachData","handleAddMistake","currentQuestion","correctlyPronounced","toLowerCase","replace","confidence","question_id","mistake","handleClose","handleShow","helpData","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","centered","onHide","Header","closeButton","Title","size","text","Body","highlightable","description","example_sentence","similar_sounds","split","map","id","Footer","variant","_c","$RefreshReg$"],"sources":["/home/samoore/tpd/new/src/components/IndividualWord/IndividualWord.js"],"sourcesContent":["/* eslint-disable react/prop-types */\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { wordHelperFetch } from \"../../services/wordHelperAPI\";\r\nimport TextToSpeech from \"../TextToSpeech/TextToSpeech\";\r\nimport SpokenText from \"../SpokenText/SpokenText\";\r\nimport FullPageSpinner from \"../FullPageSpinner/FullPageSpinner\";\r\nimport { useExerciseData } from \"../../Contexts/ExerciseContext\";\r\n\r\n/* eslint-disable react/prop-types */\r\nfunction IndividualWord({ word, spokenAnswer, className = \"\" }) {\r\n  const [show, setShow] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [coachData, setCoachData] = useState({});\r\n  const { handleAddMistake, currentQuestion } = useExerciseData();\r\n\r\n  const correctlyPronounced =\r\n    spokenAnswer &&\r\n    spokenAnswer?.word\r\n      ?.toLowerCase()\r\n      .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\") ===\r\n      word.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\").toLowerCase() &&\r\n    spokenAnswer?.confidence > 0.7;\r\n\r\n  useEffect(\r\n    function () {\r\n      if (spokenAnswer && !correctlyPronounced) {\r\n        handleAddMistake({\r\n          question_id: currentQuestion.question_id,\r\n          mistake: word,\r\n        });\r\n      }\r\n    },\r\n    [spokenAnswer]\r\n  );\r\n\r\n  function handleClose() {\r\n    setShow(false);\r\n  }\r\n\r\n  async function handleShow() {\r\n    if (!correctlyPronounced) {\r\n      try {\r\n        setIsLoading(true);\r\n        const helpData = await wordHelperFetch(word);\r\n        setCoachData(helpData);\r\n        setShow(true);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <span\r\n        onClick={handleShow}\r\n        className={`inline-block pr-1 ${className} ${\r\n          !spokenAnswer\r\n            ? \"text-black\"\r\n            : correctlyPronounced\r\n            ? \"text-green-600\"\r\n            : \" text-red-500 hover:text-red-500 hover:scale-105 transition-transform duration-200 transform\"\r\n        }`}\r\n      >\r\n        {`${word} `}\r\n      </span>\r\n      {isLoading && <FullPageSpinner />}\r\n      <Modal centered show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title className=\"capitalize\">\r\n            <SpokenText size=\"xl\" text={word} />\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"space-y-5 w-full\">\r\n          <div>\r\n            <SpokenText highlightable={false} text={coachData?.description} />\r\n          </div>\r\n          <div>\r\n            <SpokenText\r\n              highlightable={false}\r\n              text={coachData?.example_sentence}\r\n            />\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-4\">\r\n            {coachData?.similar_sounds?.split(\",\").map((word, id) => (\r\n              <SpokenText key={id} text={word} />\r\n            ))}\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Continue\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default IndividualWord;\r\n"],"mappings":";;AAAA;AACA,SAASA,MAAM,EAAEC,KAAK,QAAQ,iBAAiB;AAC/C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,eAAe,QAAQ,8BAA8B;AAC9D,OAAOC,YAAY,MAAM,8BAA8B;AACvD,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,eAAe,MAAM,oCAAoC;AAChE,SAASC,eAAe,QAAQ,gCAAgC;;AAEhE;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,SAASC,cAAcA,CAAC;EAAEC,IAAI;EAAEC,YAAY;EAAEC,SAAS,GAAG;AAAG,CAAC,EAAE;EAAAC,EAAA;EAAA,IAAAC,kBAAA,EAAAC,qBAAA;EAC9D,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACmB,SAAS,EAAEC,YAAY,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACqB,SAAS,EAAEC,YAAY,CAAC,GAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAM;IAAEuB,gBAAgB;IAAEC;EAAgB,CAAC,GAAGnB,eAAe,CAAC,CAAC;EAE/D,MAAMoB,mBAAmB,GACvBb,YAAY,IACZ,CAAAA,YAAY,aAAZA,YAAY,wBAAAG,kBAAA,GAAZH,YAAY,CAAED,IAAI,cAAAI,kBAAA,uBAAlBA,kBAAA,CACIW,WAAW,CAAC,CAAC,CACdC,OAAO,CAAC,8BAA8B,EAAE,EAAE,CAAC,MAC5ChB,IAAI,CAACgB,OAAO,CAAC,8BAA8B,EAAE,EAAE,CAAC,CAACD,WAAW,CAAC,CAAC,IAChE,CAAAd,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEgB,UAAU,IAAG,GAAG;EAEhC7B,SAAS,CACP,YAAY;IACV,IAAIa,YAAY,IAAI,CAACa,mBAAmB,EAAE;MACxCF,gBAAgB,CAAC;QACfM,WAAW,EAAEL,eAAe,CAACK,WAAW;QACxCC,OAAO,EAAEnB;MACX,CAAC,CAAC;IACJ;EACF,CAAC,EACD,CAACC,YAAY,CACf,CAAC;EAED,SAASmB,WAAWA,CAAA,EAAG;IACrBb,OAAO,CAAC,KAAK,CAAC;EAChB;EAEA,eAAec,UAAUA,CAAA,EAAG;IAC1B,IAAI,CAACP,mBAAmB,EAAE;MACxB,IAAI;QACFL,YAAY,CAAC,IAAI,CAAC;QAClB,MAAMa,QAAQ,GAAG,MAAMhC,eAAe,CAACU,IAAI,CAAC;QAC5CW,YAAY,CAACW,QAAQ,CAAC;QACtBf,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,SAAS;QACRE,YAAY,CAAC,KAAK,CAAC;MACrB;IACF;EACF;EAEA,oBACEb,OAAA,CAAAE,SAAA;IAAAyB,QAAA,gBACE3B,OAAA;MACE4B,OAAO,EAAEH,UAAW;MACpBnB,SAAS,EAAE,qBAAqBA,SAAS,IACvC,CAACD,YAAY,GACT,YAAY,GACZa,mBAAmB,GACnB,gBAAgB,GAChB,8FAA8F,EACjG;MAAAS,QAAA,EAEF,GAAGvB,IAAI;IAAG;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,EACNpB,SAAS,iBAAIZ,OAAA,CAACH,eAAe;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACjChC,OAAA,CAACT,KAAK;MAAC0C,QAAQ;MAACvB,IAAI,EAAEA,IAAK;MAACwB,MAAM,EAAEV,WAAY;MAAAG,QAAA,gBAC9C3B,OAAA,CAACT,KAAK,CAAC4C,MAAM;QAACC,WAAW;QAAAT,QAAA,eACvB3B,OAAA,CAACT,KAAK,CAAC8C,KAAK;UAAC/B,SAAS,EAAC,YAAY;UAAAqB,QAAA,eACjC3B,OAAA,CAACJ,UAAU;YAAC0C,IAAI,EAAC,IAAI;YAACC,IAAI,EAAEnC;UAAK;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eACfhC,OAAA,CAACT,KAAK,CAACiD,IAAI;QAAClC,SAAS,EAAC,kBAAkB;QAAAqB,QAAA,gBACtC3B,OAAA;UAAA2B,QAAA,eACE3B,OAAA,CAACJ,UAAU;YAAC6C,aAAa,EAAE,KAAM;YAACF,IAAI,EAAEzB,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE4B;UAAY;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/D,CAAC,eACNhC,OAAA;UAAA2B,QAAA,eACE3B,OAAA,CAACJ,UAAU;YACT6C,aAAa,EAAE,KAAM;YACrBF,IAAI,EAAEzB,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE6B;UAAiB;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNhC,OAAA;UAAKM,SAAS,EAAC,sBAAsB;UAAAqB,QAAA,EAClCb,SAAS,aAATA,SAAS,wBAAAL,qBAAA,GAATK,SAAS,CAAE8B,cAAc,cAAAnC,qBAAA,uBAAzBA,qBAAA,CAA2BoC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC1C,IAAI,EAAE2C,EAAE,kBAClD/C,OAAA,CAACJ,UAAU;YAAU2C,IAAI,EAAEnC;UAAK,GAAf2C,EAAE;YAAAlB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAe,CACnC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC,eACbhC,OAAA,CAACT,KAAK,CAACyD,MAAM;QAAArB,QAAA,eACX3B,OAAA,CAACV,MAAM;UAAC2D,OAAO,EAAC,SAAS;UAACrB,OAAO,EAAEJ,WAAY;UAAAG,QAAA,EAAC;QAEhD;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAAA,eACR,CAAC;AAEP;AAACzB,EAAA,CAxFQJ,cAAc;EAAA,QAIyBL,eAAe;AAAA;AAAAoD,EAAA,GAJtD/C,cAAc;AA0FvB,eAAeA,cAAc;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}