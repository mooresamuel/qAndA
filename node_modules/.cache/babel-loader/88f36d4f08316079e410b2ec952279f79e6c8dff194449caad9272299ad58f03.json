{"ast":null,"code":"import { API_URL } from \"../utils/constants\";\nexport async function textToSpeechAPI(message) {\n  const options = {\n    method: \"POST\",\n    headers: {\n      Accept: \"audio/mp3\",\n      // We are expecting audio in mp3 format\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      message: message // The text message to synthesize\n    })\n  };\n\n  // Make the POST request to the backend\n  const response = await fetch(`${API_URL}/speak_text`, options);\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch audio\");\n  }\n\n  // Create an Audio object\n  const audio = new Audio();\n\n  // Set the source of the audio to the streamed blob data from the response\n  audio.src = URL.createObjectURL(await response.blob());\n\n  // Play the audio once it's ready\n  audio.play();\n  return audio;\n}","map":{"version":3,"names":["API_URL","textToSpeechAPI","message","options","method","headers","Accept","body","JSON","stringify","response","fetch","ok","Error","audio","Audio","src","URL","createObjectURL","blob","play"],"sources":["/home/samoore/tpd/new/src/services/text2SpeechAPI.js"],"sourcesContent":["import { API_URL } from \"../utils/constants\";\r\n\r\nexport async function textToSpeechAPI(message) {\r\n  const options = {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"audio/mp3\", // We are expecting audio in mp3 format\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      message: message, // The text message to synthesize\r\n    }),\r\n  };\r\n\r\n  // Make the POST request to the backend\r\n  const response = await fetch(`${API_URL}/speak_text`, options);\r\n\r\n  if (!response.ok) {\r\n    throw new Error(\"Failed to fetch audio\");\r\n  }\r\n\r\n  // Create an Audio object\r\n  const audio = new Audio();\r\n\r\n  // Set the source of the audio to the streamed blob data from the response\r\n  audio.src = URL.createObjectURL(await response.blob());\r\n\r\n  // Play the audio once it's ready\r\n  audio.play();\r\n\r\n  return audio;\r\n}\r\n\r\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,oBAAoB;AAE5C,OAAO,eAAeC,eAAeA,CAACC,OAAO,EAAE;EAC7C,MAAMC,OAAO,GAAG;IACdC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACPC,MAAM,EAAE,WAAW;MAAE;MACrB,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBP,OAAO,EAAEA,OAAO,CAAE;IACpB,CAAC;EACH,CAAC;;EAED;EACA,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGX,OAAO,aAAa,EAAEG,OAAO,CAAC;EAE9D,IAAI,CAACO,QAAQ,CAACE,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EAC1C;;EAEA;EACA,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAAC,CAAC;;EAEzB;EACAD,KAAK,CAACE,GAAG,GAAGC,GAAG,CAACC,eAAe,CAAC,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAAC;;EAEtD;EACAL,KAAK,CAACM,IAAI,CAAC,CAAC;EAEZ,OAAON,KAAK;AACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}