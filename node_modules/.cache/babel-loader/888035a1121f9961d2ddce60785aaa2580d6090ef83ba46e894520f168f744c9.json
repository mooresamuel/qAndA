{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useExerciseData}from\"../../Contexts/ExerciseContext\";import ProgressBar from\"../ProgressBar/ProgressBar\";import QuestionMarkSVG from\"../QuestionMarkSVG/QuestionMarkSVG\";import NextButtonRight from\"../NextButtonRight/NextButtonRight\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function QuestionFindWord(_ref){let{question}=_ref;const{handleNextQuestion}=useExerciseData();const[shuffledData,setShuffledData]=useState([]);const[restart,setRestart]=useState(false);const[pickIndex,setPickIndex]=useState([]);const[enableNextStage,setEnableNextStage]=useState(false);const handleClick=index=>{setPickIndex(prevIndex=>{if(prevIndex.includes(index)){return prevIndex.filter(w=>w!==index);}else{return[...prevIndex,index];}});};const handleNext=()=>{setEnableNextStage(false);setTimeout(()=>{handleNextQuestion();setPickIndex([]);setShuffledData([]);setRestart(true);},200);};useEffect(()=>{if(shuffledData.length===0){setShuffledData([...question.data].sort(()=>Math.random()-0.5));}},[restart]);useEffect(()=>{if(pickIndex.length>0){const allWords=shuffledData.filter(f=>f===question.answers[0]);const pickedWords=pickIndex.map(index=>shuffledData[index]);if(pickedWords.length===allWords.length){if(allWords.every((word,i)=>word===pickedWords[i])){setEnableNextStage(true);}}else{setEnableNextStage(false);}}},[pickIndex]);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#8CB036\"},className:\"h-full items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-16 px-3 grid grid-cols-[95%_5%] items-center gap-2\",children:[/*#__PURE__*/_jsx(ProgressBar,{}),/*#__PURE__*/_jsx(QuestionMarkSVG,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full bg-white h-full p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{gridTemplateAreas:`\n              \"ball0 . ball1 . ball2\"\n              \"ball3 img img img ball4\"\n              \"ball5 img img img ball6\"\n              \"ball7 . ball8 . ball9\"\n            `,gridTemplateColumns:\"repeat(5, 1fr)\"},className:\"w-full h-[60%] relative px-3 grid place-items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{gridArea:\"img\"},className:\"absolute w-full h-full\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-full h-full object-contain\",src:`${process.env.PUBLIC_URL}/assets/img/download.png`,alt:\"alt-img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-full h-full flex items-center bottom-[0%] justify-center z-30\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold\",children:question.answers[0]})})]}),shuffledData.length>0&&shuffledData.map((word,i)=>{const slightShift={down:[1],right:[0,4,6,7],left:[2,3,5,9],up:[8]};const translateRight=\"translateX(15px)\";const translateDown=\"translateY(15px)\";const translateLeft=\"translateX(-15px)\";const translateUp=\"translateY(-15px)\";let translate=\"\";if(slightShift.down.includes(i)){translate=translateDown;}else if(slightShift.right.includes(i)){translate=translateRight;}else if(slightShift.left.includes(i)){translate=translateLeft;}else if(slightShift.up.includes(i)){translate=translateUp;}return/*#__PURE__*/_jsx(\"div\",{style:{gridArea:\"ball\"+i,transform:translate},className:`${pickIndex.includes(i)?\"border-blue-600 border-1\":\"border-transparent border-0 text-black\"}\n                            w-20 h-20 flex items-center justify-center \n                            rounded-full text-base font-bold shadow-md`,onClick:()=>handleClick(i),children:/*#__PURE__*/_jsx(\"div\",{className:`\n                    w-[76px] h-[76px] flex items-center justify-center\n                    rounded-full font-bold \n                    ${pickIndex.includes(i)?\"bg-hightlight text-white\":\"bg-ball-color text-black\"} `,children:word})},word+\" \"+Math.floor(Math.random()*i)+i);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3\",children:/*#__PURE__*/_jsx(NextButtonRight,{isEnabled:enableNextStage,className:\"shadow-md mt-20\",onClick:handleNext})})]})]});}export default QuestionFindWord;","map":{"version":3,"names":["useState","useEffect","useExerciseData","ProgressBar","QuestionMarkSVG","NextButtonRight","jsx","_jsx","jsxs","_jsxs","QuestionFindWord","_ref","question","handleNextQuestion","shuffledData","setShuffledData","restart","setRestart","pickIndex","setPickIndex","enableNextStage","setEnableNextStage","handleClick","index","prevIndex","includes","filter","w","handleNext","setTimeout","length","data","sort","Math","random","allWords","f","answers","pickedWords","map","every","word","i","style","backgroundColor","className","children","gridTemplateAreas","gridTemplateColumns","gridArea","src","process","env","PUBLIC_URL","alt","slightShift","down","right","left","up","translateRight","translateDown","translateLeft","translateUp","translate","transform","onClick","floor","isEnabled"],"sources":["/home/samoore/tpd/new/src/components/QuestionFindWord/QuestionFindWord.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport { useExerciseData } from \"../../Contexts/ExerciseContext\";\nimport ProgressBar from \"../ProgressBar/ProgressBar\"\nimport QuestionMarkSVG from \"../QuestionMarkSVG/QuestionMarkSVG\"\nimport NextButtonRight from \"../NextButtonRight/NextButtonRight\"\n\nfunction QuestionFindWord({\n  question\n}) {\n  const { handleNextQuestion } = useExerciseData();\n  const [shuffledData, setShuffledData] = useState([]);\n  const [restart, setRestart] = useState(false);\n  const [pickIndex, setPickIndex] = useState([]);\n  const [enableNextStage, setEnableNextStage] = useState(false);\n\n  const handleClick = (index) => {\n    setPickIndex((prevIndex) => {\n      if (prevIndex.includes(index)) {\n        return prevIndex.filter((w) => w !== index);\n      } else {\n        return [...prevIndex, index];\n      }\n    });\n  };\n\n  const handleNext = () => {\n    setEnableNextStage(false);\n\n    setTimeout(() => {\n      handleNextQuestion();\n      setPickIndex([]);\n      setShuffledData([]);\n      setRestart(true);\n    }, 200);\n  };\n\n  useEffect(() => {\n    if (shuffledData.length === 0) {\n      setShuffledData([...question.data].sort(() => Math.random() - 0.5))\n    }\n  }, [restart]);\n\n  useEffect(() => {\n    if (pickIndex.length > 0) {\n      const allWords = shuffledData.filter(f => f === question.answers[0]);\n      const pickedWords = pickIndex.map(index => shuffledData[index]);\n      if (pickedWords.length === allWords.length) {\n        if (allWords.every((word, i) => word === pickedWords[i])) {\n          setEnableNextStage(true);\n        }\n      } else {\n        setEnableNextStage(false);\n      }\n    }\n  }, [pickIndex]);\n\n  return (\n    <div\n      style={{ backgroundColor: \"#8CB036\" }}\n      className=\"h-full items-center\"\n    >\n      <div className=\"w-full h-16 px-3 grid grid-cols-[95%_5%] items-center gap-2\">\n        <ProgressBar />\n        <QuestionMarkSVG />\n      </div>\n\n      <div\n        className=\"w-full bg-white h-full p-4\"\n      >\n\n        <div \n          style={{ \n            gridTemplateAreas: `\n              \"ball0 . ball1 . ball2\"\n              \"ball3 img img img ball4\"\n              \"ball5 img img img ball6\"\n              \"ball7 . ball8 . ball9\"\n            `,\n            gridTemplateColumns: \"repeat(5, 1fr)\",\n          }}\n          className=\"w-full h-[60%] relative px-3 grid place-items-center gap-2\">\n\n            <div\n              style={{ gridArea: \"img\" }}\n              className=\"absolute w-full h-full\"\n            >\n              <img \n                className=\"w-full h-full object-contain\"\n                src={`${process.env.PUBLIC_URL}/assets/img/download.png`} \n                alt= {\"alt-img\"} \n              />\n\n            <div\n              className=\"absolute w-full h-full flex items-center bottom-[0%] justify-center z-30\"\n            >\n              <h1 \n                className=\"text-4xl font-extrabold\"\n              >\n                {question.answers[0]}\n              </h1>\n            </div>\n\n            </div>\n\n          {\n            shuffledData.length > 0 &&\n            shuffledData.map((word, i) => {\n\n              const slightShift = {\n                down: [1],\n                right: [0, 4, 6, 7],\n                left: [2, 3, 5, 9],\n                up: [8]\n              }\n              const translateRight = \"translateX(15px)\";\n              const translateDown = \"translateY(15px)\";\n              const translateLeft = \"translateX(-15px)\";\n              const translateUp = \"translateY(-15px)\";\n\n              let translate = \"\";\n\n              if (slightShift.down.includes(i)) {\n                translate = translateDown;\n              } else if (slightShift.right.includes(i)) {\n                translate = translateRight;\n              } else if (slightShift.left.includes(i)) {\n                translate = translateLeft;\n              } else if (slightShift.up.includes(i)) {\n                translate = translateUp;\n              }\n\n              return (\n                <div \n                  style={{ \n                    gridArea: \"ball\" + i,\n                    transform: translate,\n                  }}\n                  key={word + \" \" + Math.floor(Math.random() * i) + i} \n                  className={`${pickIndex.includes(i) ? \"border-blue-600 border-1\" : \"border-transparent border-0 text-black\"}\n                            w-20 h-20 flex items-center justify-center \n                            rounded-full text-base font-bold shadow-md`}\n                  onClick={() => handleClick(i)}\n                >\n                  <div\n                    className={`\n                    w-[76px] h-[76px] flex items-center justify-center\n                    rounded-full font-bold \n                    ${pickIndex.includes(i) ? \"bg-hightlight text-white\" : \"bg-ball-color text-black\"} `}\n                  >\n                    {word}\n                  </div>\n                </div>\n              );\n            })\n          }\n\n        </div>\n        \n        <div className=\"px-3\">\n          <NextButtonRight\n            isEnabled={enableNextStage}\n            className=\"shadow-md mt-20\" \n            onClick={handleNext}\n          />\n        </div>\n\n      </div>\n\n\n    </div>\n  )\n}\n\nexport default QuestionFindWord;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}