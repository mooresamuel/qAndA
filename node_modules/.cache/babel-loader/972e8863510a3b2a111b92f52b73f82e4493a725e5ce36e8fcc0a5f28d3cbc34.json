{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useExerciseData}from\"../../Contexts/ExerciseContext\";import ProgressBar from\"../ProgressBar/ProgressBar\";import QuestionMarkSVG from\"../QuestionMarkSVG/QuestionMarkSVG\";import NextButtonRight from\"../NextButtonRight/NextButtonRight\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function QuestionFindWord(_ref){let{question}=_ref;const{handleNextQuestion}=useExerciseData();const[shuffledData,setShuffledData]=useState([]);const[restart,setRestart]=useState(false);const[pickIndex,setPickIndex]=useState([]);const[enableNextStage,setEnableNextStage]=useState(false);const handleClick=index=>{setPickIndex(prevIndex=>{if(prevIndex.includes(index)){return prevIndex.filter(w=>w!==index);}else{return[...prevIndex,index];}});};const handleNext=()=>{setEnableNextStage(false);setTimeout(()=>{handleNextQuestion();setPickIndex([]);setShuffledData([]);setRestart(true);},200);};useEffect(()=>{if(shuffledData.length===0){setShuffledData([...question.data].sort(()=>Math.random()-0.5));}},[restart]);useEffect(()=>{if(pickIndex.length>0){const allWords=shuffledData.filter(f=>f===question.answers[0]);const pickedWords=pickIndex.map(index=>shuffledData[index]);if(pickedWords.length===allWords.length){if(allWords.every((word,i)=>word===pickedWords[i])){setEnableNextStage(true);}}else{setEnableNextStage(false);}}},[pickIndex]);return/*#__PURE__*/_jsx(\"div\",{// style={{ backgroundColor: \"#8CB036\" }}\nclassName:\"h-full items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full bg-white h-full p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{gridTemplateAreas:`\n              \"ball0 . ball1 . ball2\"\n              \"ball3 img img img ball4\"\n              \"ball5 img img img ball6\"\n              \"ball7 . ball8 . ball9\"\n            `,gridTemplateColumns:\"repeat(5, 1fr)\"},className:\"w-full h-[60%] relative px-3 grid place-items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{gridArea:\"img\"},className:\"absolute w-full h-full\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-full h-full object-contain\",src:`${process.env.PUBLIC_URL}/assets/img/download.png`,alt:\"alt-img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-full h-full flex items-center bottom-[0%] justify-center z-30\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold\",children:question.answers[0]})})]}),shuffledData.length>0&&shuffledData.map((word,i)=>{const slightShift={down:[1],right:[0,4,6,7],left:[2,3,5,9],up:[8]};const translateRight=\"translateX(15px)\";const translateDown=\"translateY(15px)\";const translateLeft=\"translateX(-15px)\";const translateUp=\"translateY(-15px)\";let translate=\"\";if(slightShift.down.includes(i)){translate=translateDown;}else if(slightShift.right.includes(i)){translate=translateRight;}else if(slightShift.left.includes(i)){translate=translateLeft;}else if(slightShift.up.includes(i)){translate=translateUp;}return/*#__PURE__*/_jsx(\"div\",{style:{gridArea:\"ball\"+i,transform:translate},className:`${pickIndex.includes(i)?\"border-blue-600 border-1\":\"border-transparent border-0 text-black\"}\n                            w-20 h-20 flex items-center justify-center \n                            rounded-full text-base font-bold shadow-md`,onClick:()=>handleClick(i),children:/*#__PURE__*/_jsx(\"div\",{className:`\n                    w-[76px] h-[76px] flex items-center justify-center\n                    rounded-full font-bold \n                    ${pickIndex.includes(i)?\"bg-hightlight text-white\":\"bg-ball-color text-black\"} `,children:word})},word+\" \"+Math.floor(Math.random()*i)+i);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3\",children:/*#__PURE__*/_jsx(NextButtonRight,{isEnabled:enableNextStage,className:\"shadow-md mt-20\",onClick:handleNext})})]})});}export default QuestionFindWord;","map":{"version":3,"names":["useState","useEffect","useExerciseData","ProgressBar","QuestionMarkSVG","NextButtonRight","jsx","_jsx","jsxs","_jsxs","QuestionFindWord","_ref","question","handleNextQuestion","shuffledData","setShuffledData","restart","setRestart","pickIndex","setPickIndex","enableNextStage","setEnableNextStage","handleClick","index","prevIndex","includes","filter","w","handleNext","setTimeout","length","data","sort","Math","random","allWords","f","answers","pickedWords","map","every","word","i","className","children","style","gridTemplateAreas","gridTemplateColumns","gridArea","src","process","env","PUBLIC_URL","alt","slightShift","down","right","left","up","translateRight","translateDown","translateLeft","translateUp","translate","transform","onClick","floor","isEnabled"],"sources":["/home/samoore/tpd/new/src/components/QuestionFindWord/QuestionFindWord.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useExerciseData } from \"../../Contexts/ExerciseContext\";\nimport ProgressBar from \"../ProgressBar/ProgressBar\";\nimport QuestionMarkSVG from \"../QuestionMarkSVG/QuestionMarkSVG\";\nimport NextButtonRight from \"../NextButtonRight/NextButtonRight\";\n\nfunction QuestionFindWord({ question }) {\n  const { handleNextQuestion } = useExerciseData();\n  const [shuffledData, setShuffledData] = useState([]);\n  const [restart, setRestart] = useState(false);\n  const [pickIndex, setPickIndex] = useState([]);\n  const [enableNextStage, setEnableNextStage] = useState(false);\n\n  const handleClick = (index) => {\n    setPickIndex((prevIndex) => {\n      if (prevIndex.includes(index)) {\n        return prevIndex.filter((w) => w !== index);\n      } else {\n        return [...prevIndex, index];\n      }\n    });\n  };\n\n  const handleNext = () => {\n    setEnableNextStage(false);\n\n    setTimeout(() => {\n      handleNextQuestion();\n      setPickIndex([]);\n      setShuffledData([]);\n      setRestart(true);\n    }, 200);\n  };\n\n  useEffect(() => {\n    if (shuffledData.length === 0) {\n      setShuffledData([...question.data].sort(() => Math.random() - 0.5));\n    }\n  }, [restart]);\n\n  useEffect(() => {\n    if (pickIndex.length > 0) {\n      const allWords = shuffledData.filter((f) => f === question.answers[0]);\n      const pickedWords = pickIndex.map((index) => shuffledData[index]);\n      if (pickedWords.length === allWords.length) {\n        if (allWords.every((word, i) => word === pickedWords[i])) {\n          setEnableNextStage(true);\n        }\n      } else {\n        setEnableNextStage(false);\n      }\n    }\n  }, [pickIndex]);\n\n  return (\n    <div\n      // style={{ backgroundColor: \"#8CB036\" }}\n      className=\"h-full items-center\"\n    >\n      {/* <div className=\"w-full h-16 px-3 grid grid-cols-[95%_5%] items-center gap-2\">\n        <ProgressBar />\n        <QuestionMarkSVG />\n      </div> */}\n\n      <div className=\"w-full bg-white h-full p-4\">\n        <div\n          style={{\n            gridTemplateAreas: `\n              \"ball0 . ball1 . ball2\"\n              \"ball3 img img img ball4\"\n              \"ball5 img img img ball6\"\n              \"ball7 . ball8 . ball9\"\n            `,\n            gridTemplateColumns: \"repeat(5, 1fr)\",\n          }}\n          className=\"w-full h-[60%] relative px-3 grid place-items-center gap-2\"\n        >\n          <div style={{ gridArea: \"img\" }} className=\"absolute w-full h-full\">\n            <img\n              className=\"w-full h-full object-contain\"\n              src={`${process.env.PUBLIC_URL}/assets/img/download.png`}\n              alt={\"alt-img\"}\n            />\n\n            <div className=\"absolute w-full h-full flex items-center bottom-[0%] justify-center z-30\">\n              <h1 className=\"text-4xl font-extrabold\">{question.answers[0]}</h1>\n            </div>\n          </div>\n\n          {shuffledData.length > 0 &&\n            shuffledData.map((word, i) => {\n              const slightShift = {\n                down: [1],\n                right: [0, 4, 6, 7],\n                left: [2, 3, 5, 9],\n                up: [8],\n              };\n              const translateRight = \"translateX(15px)\";\n              const translateDown = \"translateY(15px)\";\n              const translateLeft = \"translateX(-15px)\";\n              const translateUp = \"translateY(-15px)\";\n\n              let translate = \"\";\n\n              if (slightShift.down.includes(i)) {\n                translate = translateDown;\n              } else if (slightShift.right.includes(i)) {\n                translate = translateRight;\n              } else if (slightShift.left.includes(i)) {\n                translate = translateLeft;\n              } else if (slightShift.up.includes(i)) {\n                translate = translateUp;\n              }\n\n              return (\n                <div\n                  style={{\n                    gridArea: \"ball\" + i,\n                    transform: translate,\n                  }}\n                  key={word + \" \" + Math.floor(Math.random() * i) + i}\n                  className={`${\n                    pickIndex.includes(i)\n                      ? \"border-blue-600 border-1\"\n                      : \"border-transparent border-0 text-black\"\n                  }\n                            w-20 h-20 flex items-center justify-center \n                            rounded-full text-base font-bold shadow-md`}\n                  onClick={() => handleClick(i)}\n                >\n                  <div\n                    className={`\n                    w-[76px] h-[76px] flex items-center justify-center\n                    rounded-full font-bold \n                    ${\n                      pickIndex.includes(i)\n                        ? \"bg-hightlight text-white\"\n                        : \"bg-ball-color text-black\"\n                    } `}\n                  >\n                    {word}\n                  </div>\n                </div>\n              );\n            })}\n        </div>\n\n        <div className=\"px-3\">\n          <NextButtonRight\n            isEnabled={enableNextStage}\n            className=\"shadow-md mt-20\"\n            onClick={handleNext}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default QuestionFindWord;\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,eAAe,KAAQ,gCAAgC,CAChE,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CACpD,MAAO,CAAAC,eAAe,KAAM,oCAAoC,CAChE,MAAO,CAAAC,eAAe,KAAM,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjE,QAAS,CAAAC,gBAAgBA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACpC,KAAM,CAAEE,kBAAmB,CAAC,CAAGX,eAAe,CAAC,CAAC,CAChD,KAAM,CAACY,YAAY,CAAEC,eAAe,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACkB,SAAS,CAAEC,YAAY,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACoB,eAAe,CAAEC,kBAAkB,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAE7D,KAAM,CAAAsB,WAAW,CAAIC,KAAK,EAAK,CAC7BJ,YAAY,CAAEK,SAAS,EAAK,CAC1B,GAAIA,SAAS,CAACC,QAAQ,CAACF,KAAK,CAAC,CAAE,CAC7B,MAAO,CAAAC,SAAS,CAACE,MAAM,CAAEC,CAAC,EAAKA,CAAC,GAAKJ,KAAK,CAAC,CAC7C,CAAC,IAAM,CACL,MAAO,CAAC,GAAGC,SAAS,CAAED,KAAK,CAAC,CAC9B,CACF,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAK,UAAU,CAAGA,CAAA,GAAM,CACvBP,kBAAkB,CAAC,KAAK,CAAC,CAEzBQ,UAAU,CAAC,IAAM,CACfhB,kBAAkB,CAAC,CAAC,CACpBM,YAAY,CAAC,EAAE,CAAC,CAChBJ,eAAe,CAAC,EAAE,CAAC,CACnBE,UAAU,CAAC,IAAI,CAAC,CAClB,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACd,GAAIa,YAAY,CAACgB,MAAM,GAAK,CAAC,CAAE,CAC7Bf,eAAe,CAAC,CAAC,GAAGH,QAAQ,CAACmB,IAAI,CAAC,CAACC,IAAI,CAAC,IAAMC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,GAAG,CAAC,CAAC,CACrE,CACF,CAAC,CAAE,CAAClB,OAAO,CAAC,CAAC,CAEbf,SAAS,CAAC,IAAM,CACd,GAAIiB,SAAS,CAACY,MAAM,CAAG,CAAC,CAAE,CACxB,KAAM,CAAAK,QAAQ,CAAGrB,YAAY,CAACY,MAAM,CAAEU,CAAC,EAAKA,CAAC,GAAKxB,QAAQ,CAACyB,OAAO,CAAC,CAAC,CAAC,CAAC,CACtE,KAAM,CAAAC,WAAW,CAAGpB,SAAS,CAACqB,GAAG,CAAEhB,KAAK,EAAKT,YAAY,CAACS,KAAK,CAAC,CAAC,CACjE,GAAIe,WAAW,CAACR,MAAM,GAAKK,QAAQ,CAACL,MAAM,CAAE,CAC1C,GAAIK,QAAQ,CAACK,KAAK,CAAC,CAACC,IAAI,CAAEC,CAAC,GAAKD,IAAI,GAAKH,WAAW,CAACI,CAAC,CAAC,CAAC,CAAE,CACxDrB,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CACF,CAAC,IAAM,CACLA,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CACF,CACF,CAAC,CAAE,CAACH,SAAS,CAAC,CAAC,CAEf,mBACEX,IAAA,QACE;AACAoC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAO/BnC,KAAA,QAAKkC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCnC,KAAA,QACEoC,KAAK,CAAE,CACLC,iBAAiB,CAAE;AAC/B;AACA;AACA;AACA;AACA,aAAa,CACDC,mBAAmB,CAAE,gBACvB,CAAE,CACFJ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eAEtEnC,KAAA,QAAKoC,KAAK,CAAE,CAAEG,QAAQ,CAAE,KAAM,CAAE,CAACL,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACjErC,IAAA,QACEoC,SAAS,CAAC,8BAA8B,CACxCM,GAAG,CAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,0BAA2B,CACzDC,GAAG,CAAE,SAAU,CAChB,CAAC,cAEF9C,IAAA,QAAKoC,SAAS,CAAC,0EAA0E,CAAAC,QAAA,cACvFrC,IAAA,OAAIoC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAEhC,QAAQ,CAACyB,OAAO,CAAC,CAAC,CAAC,CAAK,CAAC,CAC/D,CAAC,EACH,CAAC,CAELvB,YAAY,CAACgB,MAAM,CAAG,CAAC,EACtBhB,YAAY,CAACyB,GAAG,CAAC,CAACE,IAAI,CAAEC,CAAC,GAAK,CAC5B,KAAM,CAAAY,WAAW,CAAG,CAClBC,IAAI,CAAE,CAAC,CAAC,CAAC,CACTC,KAAK,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACnBC,IAAI,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAClBC,EAAE,CAAE,CAAC,CAAC,CACR,CAAC,CACD,KAAM,CAAAC,cAAc,CAAG,kBAAkB,CACzC,KAAM,CAAAC,aAAa,CAAG,kBAAkB,CACxC,KAAM,CAAAC,aAAa,CAAG,mBAAmB,CACzC,KAAM,CAAAC,WAAW,CAAG,mBAAmB,CAEvC,GAAI,CAAAC,SAAS,CAAG,EAAE,CAElB,GAAIT,WAAW,CAACC,IAAI,CAAC9B,QAAQ,CAACiB,CAAC,CAAC,CAAE,CAChCqB,SAAS,CAAGH,aAAa,CAC3B,CAAC,IAAM,IAAIN,WAAW,CAACE,KAAK,CAAC/B,QAAQ,CAACiB,CAAC,CAAC,CAAE,CACxCqB,SAAS,CAAGJ,cAAc,CAC5B,CAAC,IAAM,IAAIL,WAAW,CAACG,IAAI,CAAChC,QAAQ,CAACiB,CAAC,CAAC,CAAE,CACvCqB,SAAS,CAAGF,aAAa,CAC3B,CAAC,IAAM,IAAIP,WAAW,CAACI,EAAE,CAACjC,QAAQ,CAACiB,CAAC,CAAC,CAAE,CACrCqB,SAAS,CAAGD,WAAW,CACzB,CAEA,mBACEvD,IAAA,QACEsC,KAAK,CAAE,CACLG,QAAQ,CAAE,MAAM,CAAGN,CAAC,CACpBsB,SAAS,CAAED,SACb,CAAE,CAEFpB,SAAS,CAAE,GACTzB,SAAS,CAACO,QAAQ,CAACiB,CAAC,CAAC,CACjB,0BAA0B,CAC1B,wCAAwC;AAChE;AACA,uEACwE,CACtDuB,OAAO,CAAEA,CAAA,GAAM3C,WAAW,CAACoB,CAAC,CAAE,CAAAE,QAAA,cAE9BrC,IAAA,QACEoC,SAAS,CAAE;AAC/B;AACA;AACA,sBACsBzB,SAAS,CAACO,QAAQ,CAACiB,CAAC,CAAC,CACjB,0BAA0B,CAC1B,0BAA0B,GAC5B,CAAAE,QAAA,CAEHH,IAAI,CACF,CAAC,EArBDA,IAAI,CAAG,GAAG,CAAGR,IAAI,CAACiC,KAAK,CAACjC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAGQ,CAAC,CAAC,CAAGA,CAsB/C,CAAC,CAEV,CAAC,CAAC,EACD,CAAC,cAENnC,IAAA,QAAKoC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBrC,IAAA,CAACF,eAAe,EACd8D,SAAS,CAAE/C,eAAgB,CAC3BuB,SAAS,CAAC,iBAAiB,CAC3BsB,OAAO,CAAErC,UAAW,CACrB,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAlB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}